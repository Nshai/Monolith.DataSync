<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
                   assembly="Microservice.Workflow"
                   namespace="Microservice.Workflow.Domain"
                   default-lazy="true"
									 default-access="property"
                   schema="workflow.dbo">

  <class name="Instance" table="vwInstance">

    <id name="Id">
      <generator class="assigned"/>
    </id>
    
    <many-to-one name="Template" class="TemplateDefinition" column="TemplateId" not-null="true" lazy="false" not-found="ignore"/>
    <property name="TemplateTenantId" insert="false" update="false"/>
    <property name="CorrelationId"/>
    <property name="UserId" />
    <property name="TenantId" />
    <property name="EntityType" />
    <property name="EntityId" />
    <property name="ParentEntityType" />
    <property name="ParentEntityId" />
    <property name="RelatedEntityId" />
    <property name="CreateDate" column="CreatedUtc" type="UtcDateTime" />
    <property name="Status" />
    <property name="UniqueId" />
    <property name="Version" />
  </class>
</hibernate-mapping>